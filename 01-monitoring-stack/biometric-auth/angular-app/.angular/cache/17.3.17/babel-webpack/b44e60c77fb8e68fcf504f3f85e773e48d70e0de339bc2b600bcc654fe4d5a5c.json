{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { NgChartsModule } from 'ng2-charts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/metrics.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/card\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/progress-spinner\";\nimport * as i6 from \"ng2-charts\";\nfunction DashboardComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"mat-spinner\", 6);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Cargando m\\u00E9tricas...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"mat-card\", 8)(2, \"mat-card-content\")(3, \"div\", 9)(4, \"mat-icon\");\n    i0.ɵɵtext(5, \"security\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 11);\n    i0.ɵɵtext(9, \"Total Intentos\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"mat-card\", 8)(11, \"mat-card-content\")(12, \"div\", 9)(13, \"mat-icon\");\n    i0.ɵɵtext(14, \"check_circle\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 10);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 11);\n    i0.ɵɵtext(18, \"Tasa de \\u00C9xito\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"mat-card\", 8)(20, \"mat-card-content\")(21, \"div\", 9)(22, \"mat-icon\");\n    i0.ɵɵtext(23, \"fingerprint\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 10);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 11);\n    i0.ɵɵtext(27, \"WebAuthn\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"mat-card\", 8)(29, \"mat-card-content\")(30, \"div\", 9)(31, \"mat-icon\");\n    i0.ɵɵtext(32, \"touch_app\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 10);\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"div\", 11);\n    i0.ɵɵtext(36, \"Huella\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(37, \"mat-card\", 8)(38, \"mat-card-content\")(39, \"div\", 9)(40, \"mat-icon\");\n    i0.ɵɵtext(41, \"face\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(42, \"div\", 10);\n    i0.ɵɵtext(43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 11);\n    i0.ɵɵtext(45, \"Rostro\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(46, \"mat-card\", 8)(47, \"mat-card-content\")(48, \"div\", 9)(49, \"mat-icon\");\n    i0.ɵɵtext(50, \"qr_code\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(51, \"div\", 10);\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 11);\n    i0.ɵɵtext(54, \"QR Code\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.getTotalAttempts());\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.getSuccessRate(), \"%\");\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.getMetricValue(\"webauthn_authentication_total\"));\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.getMetricValue(\"fingerprint_recognition_total\"));\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.getMetricValue(\"face_recognition_total\"));\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r0.getMetricValue(\"qr_code_validation_total\"));\n  }\n}\nfunction DashboardComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"mat-card\", 13)(2, \"mat-card-header\")(3, \"mat-card-title\");\n    i0.ɵɵtext(4, \"\\uD83D\\uDCC8 Distribuci\\u00F3n por M\\u00E9todo\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"mat-card-content\")(6, \"div\", 14);\n    i0.ɵɵelement(7, \"canvas\", 15);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"data\", ctx_r0.chartData)(\"options\", ctx_r0.chartOptions);\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(metricsService) {\n      this.metricsService = metricsService;\n      this.metrics = null;\n      this.isLoading = false;\n      this.chartData = null;\n      this.chartOptions = {};\n    }\n    ngOnInit() {\n      this.initializeChart();\n    }\n    initializeChart() {\n      this.chartData = {\n        labels: ['WebAuthn', 'Fingerprint', 'Face', 'QR'],\n        datasets: [{\n          data: [0, 0, 0, 0],\n          backgroundColor: ['#667eea', '#764ba2', '#f093fb', '#f5576c'],\n          borderColor: ['#667eea', '#764ba2', '#f093fb', '#f5576c'],\n          borderWidth: 2\n        }]\n      };\n      this.chartOptions = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: 'bottom'\n          }\n        }\n      };\n    }\n    getMetricValue(metric) {\n      if (!this.metrics) return 0;\n      return this.metrics[metric] || 0;\n    }\n    getTotalAttempts() {\n      if (!this.metrics) return 0;\n      return this.getMetricValue('biometric_auth_attempts_total');\n    }\n    getSuccessRate() {\n      const total = this.getTotalAttempts();\n      if (total === 0) return 0;\n      return Math.round(total / (total + 1) * 100); // Simulado\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.MetricsService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        inputs: {\n          metrics: \"metrics\",\n          isLoading: \"isLoading\"\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 9,\n        vars: 3,\n        consts: [[1, \"dashboard-container\"], [1, \"dashboard-header\"], [\"class\", \"loading-section\", 4, \"ngIf\"], [\"class\", \"metrics-grid\", 4, \"ngIf\"], [\"class\", \"chart-section\", 4, \"ngIf\"], [1, \"loading-section\"], [\"diameter\", \"50\"], [1, \"metrics-grid\"], [1, \"metric-card\"], [1, \"metric-icon\"], [1, \"metric-value\"], [1, \"metric-label\"], [1, \"chart-section\"], [1, \"chart-card\"], [1, \"chart-container\"], [\"baseChart\", \"\", \"type\", \"doughnut\", 3, \"data\", \"options\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n            i0.ɵɵtext(3, \"\\uD83D\\uDCCA Dashboard de M\\u00E9tricas\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"p\");\n            i0.ɵɵtext(5, \"M\\u00E9tricas en tiempo real del sistema de autenticaci\\u00F3n biom\\u00E9trica\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(6, DashboardComponent_div_6_Template, 4, 0, \"div\", 2)(7, DashboardComponent_div_7_Template, 55, 6, \"div\", 3)(8, DashboardComponent_div_8_Template, 8, 2, \"div\", 4);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n          }\n        },\n        dependencies: [CommonModule, i2.NgIf, MatCardModule, i3.MatCard, i3.MatCardContent, i3.MatCardHeader, i3.MatCardTitle, MatIconModule, i4.MatIcon, MatProgressSpinnerModule, i5.MatProgressSpinner, NgChartsModule, i6.BaseChartDirective],\n        styles: [\".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:.5rem}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1em}.loading-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;margin:4rem 0}.loading-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1.1em}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin:2rem 0}.metric-card[_ngcontent-%COMP%]{text-align:center;transition:var(--transition)}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 30px #0000001a}.metric-icon[_ngcontent-%COMP%]{font-size:2.5em;color:var(--primary-color);margin-bottom:1rem}.metric-value[_ngcontent-%COMP%]{font-size:2.5em;font-weight:700;color:var(--primary-color);margin:1rem 0}.metric-label[_ngcontent-%COMP%]{color:#666;font-size:1.1em;font-weight:500}.chart-section[_ngcontent-%COMP%], .chart-card[_ngcontent-%COMP%]{margin:2rem 0}.chart-container[_ngcontent-%COMP%]{height:400px;position:relative}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.metric-value[_ngcontent-%COMP%]{font-size:2em}.chart-container[_ngcontent-%COMP%]{height:300px}}\"]\n      });\n    }\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}